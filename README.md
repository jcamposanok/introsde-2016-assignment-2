# Introduction to Service Design and Engineering (fall 2016) - Assignment 2

This repository contains the solution for the second assignment of the course Introduction to Service Design and Engineering from the University of Trento (fall semester, 2016).

The following topics / technologies are covered in this lab assignment:
- REST
- Java Persistence API (JPA)
- Jersey 2.x
- JAXB
- Jackson

## Getting Started

The project was developed individually and is composed of two parts, a REST server (package [introsde.rest](src/main/java/introsde/rest)) and a test client app (package [introsde.client](src/main/java/introsde/client)).

All the source code was developed from scratch using IntelliJ IDEA 2016.2.5. The dependencies are managed with Maven.

In the REST server, the Health Profile is built dynamically (i.e. supports multiple types of measures) and the extra requests (R#10 - R#12) have been included.

To test the source code corresponding to the exercise cases, simply run the included Ant ant-client.xml file. For a step by step explanation, review the tests scenarios described in the [src/main/java/introsde/client/Test.java](src/main/java/introsde/client/Test.java) class source code.

### Prerequisites

In order to run the code from this repository, you need to have Java and Maven installed in your machine.

For Heroku deployment, the following commands have to be executed in the local source code root directory:

```
$ heroku login
$ heroku create [app_name]
$ heroku plugins:install heroku-cli-deploy
````

Generate the war inside the application directory. Change to the war location and then run the following command to upload:

```
$ heroku war:deploy [war_file_name].war
```

## The REST API server

This project can be run on a local Tomcat instance, or deployed to Heroku with a compiled .war file. 

If running locally, the server will use sqlite.JDBC with Eclipselink. 

For Heroku, automatic integration with PostgreSQL has been included. Make sure you run the following command through the heroku-cli terminal to create a new DB instance:
 
```
$ heroku addons:create heroku-postgresql:hobby-dev
```

Once the database has been configured, the following command can be used to retrieve the connection credentials:

```
$ heroku pg:credentials DATABASE_URL --app [app_name]
```

To access the Heroku test server visit [https://introsde2016-jcamposanok-a2.herokuapp.com/api/hello](https://introsde2016-jcamposanok-a2.herokuapp.com/api/hello)

## The client app

Run the execute.client target inside the [ant-client.xml](ant-client.xml) file (ant execute.client). This will compile all the necessary Java code and provide the test results. 

Make sure you have set up the corresponding environment variable (env) to "heroku" or "local", depending on the server you want to use.

After the tests have been executed, two files containing the output will be generated by default inside the "log" folder.

The location of the different env URLs and the log files can be specified inside the [src/main/resources/project.properties](src/main/resources/project.properties) file.

## Author

* **Jos√© Carlos Camposano** - [jcamposanok](https://github.com/jcamposanok)

See also the list of [contributors](https://github.com/jcamposanok/introsde-2016-assignment-2/contributors) who participated in this project.

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.
